{"title":{"en":"B. MEX and Array","ru":"B. MEX и массив"},"contestId":"1637","problemIndex":"B","timeLimit":{"en":"1 second","ru":"1 секунда"},"memLimit":{"en":"256 megabytes","ru":"256 мегабайт"},"inputFormat":{"en":"standard input","ru":"стандартный ввод"},"outputFormat":{"en":"standard output","ru":"стандартный вывод"},"problemHtml":{"en":"<p>Let there be an array $$$b_1, b_2, \\ldots, b_k$$$. Let there be a partition of this array into segments $$$[l_1; r_1], [l_2; r_2], \\ldots, [l_c; r_c]$$$, where $$$l_1 = 1$$$, $$$r_c = k$$$, and for any $$$2 \\leq i \\leq c$$$ holds that $$$r_{i-1} + 1 = l_i$$$. In other words, each element of the array belongs to exactly one segment.</p><p>Let's define the <span class=\"tex-font-style-it\">cost</span> of a partition as $$$$$$c + \\sum_{i = 1}^{c} \\operatorname{mex}(\\{b_{l_i}, b_{l_i + 1}, \\ldots, b_{r_i}\\}),$$$$$$ where $$$\\operatorname{mex}$$$ of a set of numbers $$$S$$$ is the smallest non-negative integer that does not occur in the set $$$S$$$. In other words, the <span class=\"tex-font-style-it\">cost</span> of a partition is the number of segments plus the sum of MEX over all segments. Let's define the <span class=\"tex-font-style-it\">value</span> of an array $$$b_1, b_2, \\ldots, b_k$$$ as the <span class=\"tex-font-style-bf\">maximum</span> possible <span class=\"tex-font-style-it\">cost</span> over all partitions of this array.</p><p>You are given an array $$$a$$$ of size $$$n$$$. Find the sum of <span class=\"tex-font-style-it\">values</span> of all its subsegments.</p><p>An array $$$x$$$ is a subsegment of an array $$$y$$$ if $$$x$$$ can be obtained from $$$y$$$ by deletion of several (possibly, zero or all) elements from the beginning and several (possibly, zero or all) elements from the end.</p>","ru":"<p>Пусть есть массив $$$b_1, b_2, \\ldots, b_k$$$. Пусть есть разбиение этого массива на отрезки $$$[l_1; r_1], [l_2; r_2], \\ldots, [l_c; r_c]$$$, где $$$l_1 = 1$$$, $$$r_c = k$$$, и для любого $$$2 \\leq i \\leq c$$$ выполнено $$$r_{i-1} + 1 = l_i$$$. Иными словами, каждый элемент массива принадлежит ровно одному отрезку.</p><p>Определим <span class=\"tex-font-style-it\">стоимость</span> разбиения как $$$$$$c + \\sum_{i = 1}^{c} \\operatorname{mex}(\\{b_{l_i}, b_{l_i + 1}, \\ldots, b_{r_i}\\}),$$$$$$ где $$$\\operatorname{mex}$$$ множества чисел $$$S$$$ — это минимальное неотрицательное целое число, которое не встречается в множестве $$$S$$$. Иными словами, <span class=\"tex-font-style-it\">стоимость</span> разбиения равна количеству отрезков плюс сумма MEX по всем отрезкам. Определим <span class=\"tex-font-style-it\">ценность</span> массива $$$b_1, b_2, \\ldots, b_k$$$ как <span class=\"tex-font-style-bf\">максимально</span> возможную <span class=\"tex-font-style-it\">стоимость</span> его разбиения.</p><p>Дан массив $$$a$$$ размера $$$n$$$. Найдите сумму <span class=\"tex-font-style-it\">ценностей</span> всех его подотрезков.</p><p>Массив $$$x$$$ является подотрезком $$$y$$$, если $$$x$$$ может быть получен из $$$y$$$ удалением нескольких (возможно, ни одного или всех) элементов из начала и нескольких (возможно, ни одного или всех) элементов из конца.</p>"},"inSpecsHtml":{"en":"<div class=\"section-title\">Input</div><p>The input contains several test cases. The first line contains one integer $$$t$$$ ($$$1 \\leq t \\leq 30$$$)&nbsp;— the number of test cases.</p><p>The first line for each test case contains one integer $$$n$$$ ($$$1 \\leq n \\leq 100$$$)&nbsp;— the length of the array.</p><p>The second line contains a sequence of integers $$$a_1, a_2, \\ldots, a_n$$$ ($$$0 \\leq a_i \\leq 10^9$$$)&nbsp;— the array elements.</p><p>It is guaranteed that the sum of the values $$$n$$$ over all test cases does not exceed $$$100$$$.</p>","ru":"<div class=\"section-title\">Входные данные</div><p>Во входных данных находятся несколько наборов входных данных. В первой строке находится одно целое число $$$t$$$ ($$$1 \\leq t \\leq 30$$$)&nbsp;— количество наборов входных данных. Далее следуют наборы входных данных.</p><p>В первой строке каждого набора задано одно целое число $$$n$$$ ($$$1 \\leq n \\leq 100$$$)&nbsp;— длина массива.</p><p>Во второй строке набора задана последовательность целых чисел $$$a_1, a_2, \\ldots, a_n$$$ ($$$0 \\leq a_i \\leq 10^9$$$) — элементы массива.</p><p>Гарантируется, что сумма значений $$$n$$$ по всем наборам входных данных не превосходит $$$100$$$.</p>"},"outSpecsHtml":{"en":"<div class=\"section-title\">Output</div><p>For each test case print a single integer&nbsp;— the answer to the problem.</p>","ru":"<div class=\"section-title\">Выходные данные</div><p>Для каждого набора входных данных выведите единственное целое число&nbsp;— ответ на задачу.</p>"},"noteHtml":{"en":"<div class=\"section-title\">Note</div><p>In the second test case: </p><ul> <li> The best partition for the subsegment $$$[2, 0, 1]$$$: $$$[2], [0, 1]$$$. The cost of this partition equals to $$$2 + \\operatorname{mex}(\\{2\\}) + \\operatorname{mex}(\\{0, 1\\}) = 2 + 0 + 2 = 4$$$. </li><li> The best partition for the subsegment $$$[2, 0]$$$: $$$[2], [0]$$$. The cost of this partition equals to $$$2 + \\operatorname{mex}(\\{2\\}) + \\operatorname{mex}(\\{0\\}) = 2 + 0 + 1 = 3$$$ </li><li> The best partition for the subsegment $$$[2]$$$: $$$[2]$$$. The cost of this partition equals to $$$1 + \\operatorname{mex}(\\{2\\}) = 1 + 0 = 1$$$. </li><li> The best partition for the subsegment $$$[0, 1]$$$: $$$[0, 1]$$$. The cost of this partition equals to $$$1 + \\operatorname{mex}(\\{0, 1\\}) = 1 + 2 = 3$$$. </li><li> The best partition for the subsegment $$$[0]$$$: $$$[0]$$$. The cost of this partition equals to $$$1 + \\operatorname{mex}(\\{0\\}) = 1 + 1 = 2$$$. </li><li> The best partition for the subsegment $$$[1]$$$: $$$[1]$$$. The cost of this partition equals to $$$1 + \\operatorname{mex}(\\{1\\}) = 1 + 0 = 1$$$. </li></ul><p>The sum of values over all subsegments equals to $$$4 + 3 + 1 + 3 + 2 + 1 = 14$$$.</p>","ru":"<div class=\"section-title\">Примечание</div><p>Рассмотрим второй набор входных данных: </p><ul> <li> Лучшее разбиение подотрезка $$$[2, 0, 1]$$$: $$$[2], [0, 1]$$$. Стоимость такого разбиения равна $$$2 + \\operatorname{mex}(\\{2\\}) + \\operatorname{mex}(\\{0, 1\\}) = 2 + 0 + 2 = 4$$$. </li><li> Лучшее разбиение подотрезка $$$[2, 0]$$$: $$$[2], [0]$$$. Стоимость такого разбиения равна $$$2 + \\operatorname{mex}(\\{2\\}) + \\operatorname{mex}(\\{0\\}) = 2 + 0 + 1 = 3$$$ </li><li> Лучшее разбиение подотрезка $$$[2]$$$: $$$[2]$$$. Стоимость такого разбиения равна $$$1 + \\operatorname{mex}(\\{2\\}) = 1 + 0 = 1$$$. </li><li> Лучшее разбиение подотрезка $$$[0, 1]$$$: $$$[0, 1]$$$. Стоимость такого разбиения равна $$$1 + \\operatorname{mex}(\\{0, 1\\}) = 1 + 2 = 3$$$. </li><li> Лучшее разбиение подотрезка $$$[0]$$$: $$$[0]$$$. Стоимость такого разбиения равна $$$1 + \\operatorname{mex}(\\{0\\}) = 1 + 1 = 2$$$. </li><li> Лучшее разбиение подотрезка $$$[1]$$$: $$$[1]$$$. Стоимость такого разбиения равна $$$1 + \\operatorname{mex}(\\{1\\}) = 1 + 0 = 1$$$. </li></ul><p>Суммарная ценность всех подотрезков равна $$$4 + 3 + 1 + 3 + 2 + 1 = 14$$$.</p>"},"sampleTestcases":[{"id":1657986849789,"input":"4\n2\n1 2\n3\n2 0 1\n4\n2 0 5 1\n5\n0 1 1 0 1\n","output":"4\n14\n26\n48\n","result":{"id":1657986849789,"stdout":"4\r\n14\r\n26\r\n48\r\n","stderr":"","exitcode":0,"signal":null,"time":114,"timeout":false}}],"submitUrl":"https://codeforces.com/contest/1637/submit","language":"c++"}